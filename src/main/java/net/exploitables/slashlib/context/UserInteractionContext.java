package net.exploitables.slashlib.context;

import discord4j.core.event.domain.interaction.ChatInputInteractionEvent;
import discord4j.core.event.domain.interaction.UserInteractionEvent;
import discord4j.core.object.entity.Guild;
import discord4j.core.object.entity.Member;
import discord4j.core.object.entity.User;
import discord4j.core.object.entity.channel.GuildChannel;
import discord4j.core.object.entity.channel.MessageChannel;
import discord4j.core.object.entity.channel.TopLevelGuildChannel;

/**
 * Context provided to a User Command (context menu).
 * Created from the required data set by the command in a {@link UserInteractionContextBuilder}
 */
public class UserInteractionContext {
    private final UserInteractionEvent event;
    private final Guild guild;
    private final MessageChannel messageChannel;
    private final TopLevelGuildChannel guildChannel;
    private final User targetUser;
    private final Member targetMember;
    private final User callingUser;
    private final Member callingMember;

    public UserInteractionContext(UserInteractionContextBuilder builder) {
        this.event          = builder.event;
        this.guild          = builder.guild;
        this.messageChannel = builder.messageChannel;
        this.guildChannel   = builder.guildChannel;
        this.targetUser     = builder.targetUser;
        this.targetMember   = builder.targetMember;
        this.callingUser    = builder.callingUser;
        this.callingMember  = builder.callingMember;
    }

    /** @return the {@link ChatInputInteractionEvent} which corresponding to this interaction */
    public UserInteractionEvent getEvent()          { return event; }

    /** @return the {@link Guild} this interaction was created in *if requested* */
    public Guild getGuild()                         { return guild; }
    /** @return the {@link MessageChannel} this interaction was created in *if requested* */
    public MessageChannel getMessageChannel()       { return messageChannel; }
    /** @return the {@link GuildChannel} this interaction was created in *if requested* */
    public TopLevelGuildChannel getGuildChannel()   { return guildChannel; }
    /** @return the {@link User} this interaction was called on *if requested* */
    public User getTargetUser()                     { return targetUser; }
    /** @return the {@link Member} this interaction was called on *if requested* */
    public Member getTargetMember()                 { return targetMember; }
    /** @return the {@link User} that created this interaction *if requested* */
    public User getCallingUser()                    { return callingUser; }
    /** @return the {@link Member} that created this interaction *if requested* */
    public Member getCallingMember()                { return callingMember; }
}
