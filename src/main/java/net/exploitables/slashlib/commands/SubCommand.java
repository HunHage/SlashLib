package net.exploitables.slashlib.commands;


import discord4j.common.util.Snowflake;
import discord4j.core.object.command.ApplicationCommandOption;

/**
 * A Class which represents a sub command, or any top level command that is not top level.
 */
public abstract class SubCommand extends ChatCommand {
    protected SubCommand(String name, String description) {
        super(name, description, ApplicationCommandOption.Type.SUB_COMMAND);
    }

    /**
     * Throw an {@link IllegalStateException} when trying to set the default permission of a SubCommand as it does nothing.
     * @throws IllegalStateException when called
     */
    @Override
    protected void setDefaultPermissionFalse() {
        throw new IllegalStateException("Default Permission only works on TopCommand or TopGroupCommand! Command: " + this.getClass().getSimpleName());
    }

    /**
     * Throw an {@link IllegalStateException} when trying to restrict a SubCommand to certain guilds as it does nothing.
     * @throws IllegalStateException when called
     */
    @Override
    protected void restrictToGuildIDs(Long... guildIDsToAdd) {
        throw new IllegalStateException("Only a TopCommand or TopGroupCommand can be guild-restricted (which is applied to all of their subcommands). Command: " + this.getClass().getSimpleName());
    }

    /**
     * Throw an {@link IllegalStateException} when trying to set a SubCommand's Discord API ID as it does nothing.
     * @throws IllegalStateException when called
     */
    @Override
    public void setCommandGlobalID(Snowflake cmdGlobalID) {
        throw new IllegalStateException("Only TopCommand and TopGroupCommand may have a Discord API ID. Command: " + this.getClass().getSimpleName());
    }

    /**
     * Throw an {@link IllegalStateException} when trying to set a SubCommand's Discord API ID as it does nothing.
     * @throws IllegalStateException when called
     */
    @Override
    public void setCommandGuildID(Long guildID, Snowflake cmdGuildID) {
        throw new IllegalStateException("Only TopCommand and TopGroupCommand may have a Discord API ID. Command: " + this.getClass().getSimpleName());
    }
}
