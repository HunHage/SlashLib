package net.exploitables.slashlib.commands;

import net.exploitables.slashlib.context.ChatInputInteractionContext;
import net.exploitables.slashlib.context.ChatInputInteractionContextBuilder;
import reactor.core.publisher.Mono;

public class GuildOnlyCommand extends TopCommand {
    public GuildOnlyCommand() {
        super("guildonlycmd", "This command is only available in certain guilds!");
        restrictToGuildIDs(0L, 1L, 2L, 3L);  // This command will now be restricted to guild IDs 0, 1, 2 and 3.
                                                           // (Replace 0, 1, 2, 3 with actual guild IDs.)
                                                           // Other than that, everything is the same!
    }

    @Override
    public Mono<ChatInputInteractionContext> executeChat(ChatInputInteractionContext context) {
        return context.getEvent().reply("Hello! This command is guild-restricted!").withEphemeral(false).thenReturn(context);
    }

    @Override
    public ChatInputInteractionContextBuilder setRequestData(ChatInputInteractionContextBuilder context) {
        return context;
    }
}
